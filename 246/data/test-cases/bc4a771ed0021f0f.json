{"uid":"bc4a771ed0021f0f","name":"8) Изменение цен/остатков на WB через YML feed","fullName":"test_t4.test_functional.test_8_change_feed_wb_price_stock#test_add_feed_checkin_feed_product","historyId":"0720b764983ef6832c7ca9d5f4a202db","time":{"start":1659163077524,"stop":1659163323630,"duration":246106},"description":"\n     1) Авторизация в системе T4MP.v2\n     2) Выбор пайплайна и МП\n     3) Открытие \"Feed Products\"\n     4) Ввод в поле \"Search\" ID тестового товара\n     5) Проверка значения \"id\" в таблице для тестового товара\n     6) Получение значения \"Sale\" в таблице для тестового товара'\n     7) Получение значения \"Stock\" в таблице для тестового товара'\n     8) Запрос к API WB, получение \"price\" и \"stock\"\n     9) Исходя из текущего \"price\" и \"stock\" выбор \"YML feed\" для изменения цен и остатков\n    10) Возврат на страницу кубиков\n    11) Открытие \"Feeds list\"\n    12) Выбор \"WB feed\"\n    13) Открытие списка \"File type\"\n    14) Выбор типа \"Yandex Feed\"\n    15) Заполнение поля \"Url\" для \"WB source\"\n    16) Нажатие кнопки \"Save\"\n    17) Ожидание когда пропадет элемент \"Feed config save\"\n    18) Выбор \"WB feed\"\n    19) Нажатие кнопки \"Load products\"\n    20) Ожидание когда пропадет эллемент \"Feed product import started\"\n    21) Переход на \"feed list\" нажатием кнопки \"<--\"\n    22) Ожидание статуса \"Success\" для добавленного фида\n    23) Закрытие \"Feed list\"\n    24) Открытие \"Feed Products\"\n    25) Проверка значения \"id\" в таблице для тестового товара\n    26) Получение значения \"Sale\" в таблице для тестового товара'\n    27) Получение значения \"Stock\" в таблице для тестового товара'\n    28) Сравнение измененных \"price\" и \"stock\", с значениями в таблице \"Feed products\"\n    29) Запрос к API WB, получение \"price\" и \"stock\", сравнение со значениями в таблице \"Feed products\"\n    ","descriptionHtml":"<pre><code> 1) Авторизация в системе T4MP.v2\n 2) Выбор пайплайна и МП\n 3) Открытие &quot;Feed Products&quot;\n 4) Ввод в поле &quot;Search&quot; ID тестового товара\n 5) Проверка значения &quot;id&quot; в таблице для тестового товара\n 6) Получение значения &quot;Sale&quot; в таблице для тестового товара'\n 7) Получение значения &quot;Stock&quot; в таблице для тестового товара'\n 8) Запрос к API WB, получение &quot;price&quot; и &quot;stock&quot;\n 9) Исходя из текущего &quot;price&quot; и &quot;stock&quot; выбор &quot;YML feed&quot; для изменения цен и остатков\n10) Возврат на страницу кубиков\n11) Открытие &quot;Feeds list&quot;\n12) Выбор &quot;WB feed&quot;\n13) Открытие списка &quot;File type&quot;\n14) Выбор типа &quot;Yandex Feed&quot;\n15) Заполнение поля &quot;Url&quot; для &quot;WB source&quot;\n16) Нажатие кнопки &quot;Save&quot;\n17) Ожидание когда пропадет элемент &quot;Feed config save&quot;\n18) Выбор &quot;WB feed&quot;\n19) Нажатие кнопки &quot;Load products&quot;\n20) Ожидание когда пропадет эллемент &quot;Feed product import started&quot;\n21) Переход на &quot;feed list&quot; нажатием кнопки &quot;&lt;--&quot;\n22) Ожидание статуса &quot;Success&quot; для добавленного фида\n23) Закрытие &quot;Feed list&quot;\n24) Открытие &quot;Feed Products&quot;\n25) Проверка значения &quot;id&quot; в таблице для тестового товара\n26) Получение значения &quot;Sale&quot; в таблице для тестового товара'\n27) Получение значения &quot;Stock&quot; в таблице для тестового товара'\n28) Сравнение измененных &quot;price&quot; и &quot;stock&quot;, с значениями в таблице &quot;Feed products&quot;\n29) Запрос к API WB, получение &quot;price&quot; и &quot;stock&quot;, сравнение со значениями в таблице &quot;Feed products&quot;\n</code></pre>\n","status":"failed","statusMessage":"AssertionError: \"price\" на МП WB д.б. равен \"Sale\" в таблице \"Feed products\"\nassert '100000' == '222222'\n  - 222222\n  + 100000","statusTrace":"get_driver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"0eb6df6fdae75e67ed4d9f5c7c6ced1c\")>\nget_init_data = {'GF_desktop_location': '/test_data_Googlefeed/GFtest.xml', 'GF_name_feed': 'Google_feed_auto_test', 'GF_url_location': 'https://test.com', 'csv_desktop_location': '/test_data_CSV_feed/CSVtest.xml', ...}\n\n    @allure.feature('Тест стенд v.'+get_app_version())\n    @allure.story('Функциональное тестирование')\n    @allure.title('8) Изменение цен/остатков на WB через YML feed')\n    @allure.severity('critical')\n    def test_add_feed_checkin_feed_product(get_driver, get_init_data):\n        \"\"\"\n         1) Авторизация в системе T4MP.v2\n         2) Выбор пайплайна и МП\n         3) Открытие \"Feed Products\"\n         4) Ввод в поле \"Search\" ID тестового товара\n         5) Проверка значения \"id\" в таблице для тестового товара\n         6) Получение значения \"Sale\" в таблице для тестового товара'\n         7) Получение значения \"Stock\" в таблице для тестового товара'\n         8) Запрос к API WB, получение \"price\" и \"stock\"\n         9) Исходя из текущего \"price\" и \"stock\" выбор \"YML feed\" для изменения цен и остатков\n        10) Возврат на страницу кубиков\n        11) Открытие \"Feeds list\"\n        12) Выбор \"WB feed\"\n        13) Открытие списка \"File type\"\n        14) Выбор типа \"Yandex Feed\"\n        15) Заполнение поля \"Url\" для \"WB source\"\n        16) Нажатие кнопки \"Save\"\n        17) Ожидание когда пропадет элемент \"Feed config save\"\n        18) Выбор \"WB feed\"\n        19) Нажатие кнопки \"Load products\"\n        20) Ожидание когда пропадет эллемент \"Feed product import started\"\n        21) Переход на \"feed list\" нажатием кнопки \"<--\"\n        22) Ожидание статуса \"Success\" для добавленного фида\n        23) Закрытие \"Feed list\"\n        24) Открытие \"Feed Products\"\n        25) Проверка значения \"id\" в таблице для тестового товара\n        26) Получение значения \"Sale\" в таблице для тестового товара'\n        27) Получение значения \"Stock\" в таблице для тестового товара'\n        28) Сравнение измененных \"price\" и \"stock\", с значениями в таблице \"Feed products\"\n        29) Запрос к API WB, получение \"price\" и \"stock\", сравнение со значениями в таблице \"Feed products\"\n        \"\"\"\n    \n    \n        driver = get_driver\n        dict_init_data = get_init_data\n        dict_xpath_login = init_dict_xpath_login(dict_init_data)\n        dict_xpath_product_feed = init_dict_xpath_product_feed(dict_init_data)\n        dict_xpath_base = init_dict_xpath_base(dict_init_data)\n        feed_data = parsing_data_feed()\n    \n        id_prod = 100591961  # \"ID\" тестового товара\n        # Данные первого фида\n        feed_change_1 = [100000, 0, \"https://www.dropbox.com/s/pq7z3p963fn6na8/dop_feed_1_prod_stock_0.xml?dl=0\"]\n        # Данные второго фида\n        feed_change_2 = [222222, 2, \"https://www.dropbox.com/s/jpzcno80ui3ruyl/dop_feed_1_prod_stock_2.xml?dl=0\"]\n        # Ссылка для загрузки фида изменения цен и остатков\n        change_feed_url = ''\n    \n        # 1) Авторизация\n        login_T4(driver, dict_init_data, dict_xpath_login)\n    \n        # 2) Выбор пайплайна и МП\n        choice_pipeline_mp(driver, dict_xpath_base, dict_xpath_product_feed, get_init_data)\n    \n        # 3) общая страница -> Feed Products (клик)\n        product_feed = wait_of_element_located('выбор кубика \"Feed Products\"',\n                                               dict_xpath_product_feed['15'], driver)\n        product_feed.click()\n    \n        # 4) Feed products -> \"Search\"\n        search = wait_of_element_located('ввод \"ID\" продукта в поле \"Search by name or ID\"',\n                                         dict_xpath_product_feed['17'], driver)\n        search.send_keys(id_prod)\n        search.send_keys(u'\\ue007')\n    \n        # 5) Проверка значения \"id\" в таблице для тестового товара\n        xpath_id = \"//tbody[@class='ant-table-tbody']/tr[2]/td[2]\"\n        id_check = wait_of_element_located('ожидание эллемента \"id\" в таблице \"Feed products\" для тестового товара',\n                                           xpath_id, driver)\n        str_id_check = id_check.text[:id_check.text.find('\\n')]\n        assert str_id_check == str(id_prod), '\"id\" в таблице \"Feed products\" д.б. равен \"id\" для тестового товара'\n    \n        # 6) Получение значения \"Sale\" в таблице для тестового товара'\n        xpath_sale = \"//tbody[@class='ant-table-tbody']/tr[2]/td[4]\"\n        sale_check = wait_of_element_located(\n            'ожидание эллемента \"Sale\" в таблице \"Feed products\" для тестового товара',\n            xpath_sale, driver)\n        str_sale_table = sale_check.text[:sale_check.text.find(' ')]\n    \n        # 7) Получение значения \"Stock\" в таблице для тестового товара'\n        xpath_stock = \"//tbody[@class='ant-table-tbody']/tr[2]/td[5]\"\n        stock_check = wait_of_element_located(\n            'ожидание эллемента \"Stock\" в таблице \"Feed products\" для тестового товара',\n            xpath_stock, driver)\n        str_stock_table = stock_check.text\n    \n        print('=============================================')\n        print('Значения из листинга \"Product feed\" ДО загрузки фида:')\n        print('id - ' + str_id_check)\n        print('stock - ' + str_stock_table)\n        print('price - ' + str_sale_table)\n        print('текущее время - ' + datetime.now().strftime(\"%d.%m.%Y %H:%M\"))\n        print('=============================================')\n    \n        print('Ответ WB API ДО загрузки фида:')\n        # 8) Запрос к API WB, получение \"price\" и \"stock\", сравнение со значениями в таблице \"Feed products\"\n        api_wb = get_WB_stock_price_discount(id_prod)\n        # assert str(api_wb[0]) == str_sale_table, '\"price\" на МП WB д.б. равен \"Sale\" в таблице \"Feed products\"'\n        # assert str(api_wb[1]) == str_stock_table, '\"stock\" на МП WB д.б. равен \"stock\" в таблице \"Feed products\"'\n    \n        print('текущее время - ' + datetime.now().strftime(\"%d.%m.%Y %H:%M\"))\n        print('=============================================')\n    \n        # 9) Исходя из текущего \"price\" и \"stock\" выбор \"YML feed\" для изменения цен и остатков\n        if api_wb[0] == feed_change_1[0] and api_wb[1] == feed_change_1[1]:\n            change_feed_url = feed_change_2[2]\n            feed_price = feed_change_2[0]\n            feed_stock = feed_change_2[1]\n        elif api_wb[0] == feed_change_2[0] and api_wb[1] == feed_change_2[1]:\n            change_feed_url = feed_change_1[2]\n            feed_price = feed_change_1[0]\n            feed_stock = feed_change_1[1]\n        else:\n            change_feed_url = feed_change_1[2]\n            feed_price = feed_change_1[0]\n            feed_stock = feed_change_1[1]\n        change_feed_url = change_feed_url.replace(\".xml?dl=0\", \".xml?dl=1\")\n    \n        print('url загружаемого фида - ' + change_feed_url)\n        print('будущие значения stock - ' + str(feed_stock))\n        print('будущие значения price - ' + str(feed_price))\n        print('текущее время - ' + datetime.now().strftime(\"%d.%m.%Y %H:%M\"))\n        print('=============================================')\n    \n    \n        # 10) Feed Products -> общая страница (клик)\n        product_feed = wait_of_element_located('выход из \"Feed Products\" на общую страницу',\n                                               dict_xpath_base['3'], driver)\n        product_feed.click()\n    \n        # 11) общая страница -> Feeds list (клик)\n        prod_feed = wait_of_element_located('выбор страницы \"Feeds list\"', dict_xpath_product_feed['1'], driver)\n        prod_feed.click()\n    \n        # 12) Выбор \"WB feed\"\n        wb_feed = wait_of_element_located('выбор страницы \"WB feed\"', dict_xpath_product_feed['18'], driver)\n        wb_feed.click()\n    \n        # 13) Add feed config -> \"File type\" (клик)\n        type_file = wait_of_element_located('выбор списка \"File type\"', dict_xpath_product_feed['7.0'], driver)\n        type_file.click()\n    \n        # 14) Add feed config -> \"File type\" (Yandex Feed) (клик)\n        type_file_yml = wait_of_element_located('выбор из списка \"Yandex Feed\"', dict_xpath_product_feed['7.2'], driver)\n        type_file_yml.click()\n    \n        # 15) WB feed config -> \"Url\" (ввод)\n        url_input = wait_of_element_located('ввод в поле \"Url\" для \"Product source\"', dict_xpath_product_feed['4.1'], driver)\n        url_input.click()\n        url_input.send_keys(Keys.CONTROL, 'a')\n        url_input.send_keys(u'\\ue017')\n        url_input.send_keys(change_feed_url)\n    \n        # 16) WB feed config -> \"Save\" (клик)\n        button_save_feed = wait_of_element_located('нажатие кнопки \"Save\"', dict_xpath_product_feed['8'], driver)\n        button_save_feed.click()\n        time.sleep(2)\n    \n        # 17) ожидание когда пропадет эллемент \"Feed config save\"\n        wait_notice_save = wait_of_invisibility_of_element_located('ожидание \"Feed config save\"',\n                                                                   dict_xpath_product_feed['6'], driver)\n    \n        # 18) Выбор \"WB feed\"\n        wb_feed = wait_of_element_located('выбор страницы \"WB feed\"', dict_xpath_product_feed['18'], driver)\n        wb_feed.click()\n    \n        # 19) WB feed config -> \"Load products\"\n        button_load = wait_of_element_located('нажатие кнопки \"Load products\"', dict_xpath_product_feed['5'], driver)\n        button_load.click()\n        time.sleep(2)\n    \n        # 20) ожидание когда пропадет эллемент \"Feed product import started\"\n        wait_import_started = wait_of_invisibility_of_element_located('ожидание \"Feed product import started\"',\n                                                                      dict_xpath_product_feed['16'], driver)\n    \n        # 21) feed config -> feed list\n        back_feed_list = wait_of_element_located('нажатие кнопки \"<--\"', dict_xpath_product_feed['10'], driver)\n        back_feed_list.click()\n    \n        # 22) Ожидание статуса \"Success\" для добавленного фида\n        wait_success_feed = find_text_in_element('ожидание \"Success\" для фида',\n                                                 dict_xpath_product_feed[\n                                                     '19'] + \"/a[text()='\" + \"WildBerries\" + \"']\" + \"/parent::div/div\",\n                                                 driver, \"Success\")\n    \n        # 23) Закрытие \"Feed list\"\n        close_feed_list = wait_of_element_located('закрытие \"Feed list\"', dict_xpath_product_feed['14'], driver)\n        close_feed_list.click()\n    \n        # 24) общая страница -> Feed Products (клик)\n        product_feed = wait_of_element_located('выбор кубика \"Feed Products\"',\n                                               dict_xpath_product_feed['15'], driver)\n        product_feed.click()\n    \n        # 25) Проверка значения \"id\" в таблице для тестового товара\n        xpath_id = \"//tbody[@class='ant-table-tbody']/tr[2]/td[2]\"\n        id_check = wait_of_element_located('ожидание эллемента \"id\" в таблице \"Feed products\" для тестового товара',\n                                           xpath_id, driver)\n        str_id_check = id_check.text[:id_check.text.find('\\n')]\n        assert str_id_check == str(id_prod), '\"id\" в таблице \"Feed products\" д.б. равен \"id\" для тестового товара'\n    \n        # 26) Получение значения \"Sale\" в таблице для тестового товара'\n        xpath_sale = \"//tbody[@class='ant-table-tbody']/tr[2]/td[4]\"\n        sale_check = wait_of_element_located(\n            'ожидание эллемента \"Sale\" в таблице \"Feed products\" для тестового товара',\n            xpath_sale, driver)\n        str_sale_table = sale_check.text[:sale_check.text.find(' ')]\n    \n        # 27) Получение значения \"Stock\" в таблице для тестового товара'\n        xpath_stock = \"//tbody[@class='ant-table-tbody']/tr[2]/td[5]\"\n        stock_check = wait_of_element_located(\n            'ожидание эллемента \"Stock\" в таблице \"Feed products\" для тестового товара',\n            xpath_stock, driver)\n        str_stock_table = stock_check.text\n    \n        print('Значения из листинга \"Product feed\" ПОСЛЕ загрузки фида:')\n        print('id - ' + str_id_check)\n        print('stock - ' + str_stock_table)\n        print('price - ' + str_sale_table)\n        print('текущее время - ' + datetime.now().strftime(\"%d.%m.%Y %H:%M\"))\n        print('=============================================')\n    \n        # 28) Сравнение измененных \"price\" и \"stock\", с значениями в таблице \"Feed products\"\n        assert str(feed_price) == str_sale_table, 'измененный \"price\" д.б. равен \"Sale\" в таблице \"Feed products\"'\n        assert str(feed_stock) == str_stock_table, 'измененный \"stock\" д.б. равен \"stock\" в таблице \"Feed products\"'\n    \n        # задержка на случай если импорт прошел быстро и в WB не успели обновиться цены\n        time.sleep(120)\n    \n        print('Ответ WB API ПОСЛЕ загрузки фида:')\n        # 29) Запрос к API WB, получение \"price\" и \"stock\", сравнение со значениями в таблице \"Feed products\"\n        api_wb = get_WB_stock_price_discount(id_prod)\n>       assert str(api_wb[0]) == str_sale_table, '\"price\" на МП WB д.б. равен \"Sale\" в таблице \"Feed products\"'\nE       AssertionError: \"price\" на МП WB д.б. равен \"Sale\" в таблице \"Feed products\"\nE       assert '100000' == '222222'\nE         - 222222\nE         + 100000\n\ntest_t4/test_functional/test_8_change_feed_wb_price_stock.py:248: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"get_chrome_options","time":{"start":1659163074721,"stop":1659163074721,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"get_webdriver","time":{"start":1659163074721,"stop":1659163075340,"duration":619},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"get_init_data","time":{"start":1659163075340,"stop":1659163075341,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"get_driver","time":{"start":1659163075341,"stop":1659163077524,"duration":2183},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"testStage":{"description":"\n     1) Авторизация в системе T4MP.v2\n     2) Выбор пайплайна и МП\n     3) Открытие \"Feed Products\"\n     4) Ввод в поле \"Search\" ID тестового товара\n     5) Проверка значения \"id\" в таблице для тестового товара\n     6) Получение значения \"Sale\" в таблице для тестового товара'\n     7) Получение значения \"Stock\" в таблице для тестового товара'\n     8) Запрос к API WB, получение \"price\" и \"stock\"\n     9) Исходя из текущего \"price\" и \"stock\" выбор \"YML feed\" для изменения цен и остатков\n    10) Возврат на страницу кубиков\n    11) Открытие \"Feeds list\"\n    12) Выбор \"WB feed\"\n    13) Открытие списка \"File type\"\n    14) Выбор типа \"Yandex Feed\"\n    15) Заполнение поля \"Url\" для \"WB source\"\n    16) Нажатие кнопки \"Save\"\n    17) Ожидание когда пропадет элемент \"Feed config save\"\n    18) Выбор \"WB feed\"\n    19) Нажатие кнопки \"Load products\"\n    20) Ожидание когда пропадет эллемент \"Feed product import started\"\n    21) Переход на \"feed list\" нажатием кнопки \"<--\"\n    22) Ожидание статуса \"Success\" для добавленного фида\n    23) Закрытие \"Feed list\"\n    24) Открытие \"Feed Products\"\n    25) Проверка значения \"id\" в таблице для тестового товара\n    26) Получение значения \"Sale\" в таблице для тестового товара'\n    27) Получение значения \"Stock\" в таблице для тестового товара'\n    28) Сравнение измененных \"price\" и \"stock\", с значениями в таблице \"Feed products\"\n    29) Запрос к API WB, получение \"price\" и \"stock\", сравнение со значениями в таблице \"Feed products\"\n    ","status":"failed","statusMessage":"AssertionError: \"price\" на МП WB д.б. равен \"Sale\" в таблице \"Feed products\"\nassert '100000' == '222222'\n  - 222222\n  + 100000","statusTrace":"get_driver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"0eb6df6fdae75e67ed4d9f5c7c6ced1c\")>\nget_init_data = {'GF_desktop_location': '/test_data_Googlefeed/GFtest.xml', 'GF_name_feed': 'Google_feed_auto_test', 'GF_url_location': 'https://test.com', 'csv_desktop_location': '/test_data_CSV_feed/CSVtest.xml', ...}\n\n    @allure.feature('Тест стенд v.'+get_app_version())\n    @allure.story('Функциональное тестирование')\n    @allure.title('8) Изменение цен/остатков на WB через YML feed')\n    @allure.severity('critical')\n    def test_add_feed_checkin_feed_product(get_driver, get_init_data):\n        \"\"\"\n         1) Авторизация в системе T4MP.v2\n         2) Выбор пайплайна и МП\n         3) Открытие \"Feed Products\"\n         4) Ввод в поле \"Search\" ID тестового товара\n         5) Проверка значения \"id\" в таблице для тестового товара\n         6) Получение значения \"Sale\" в таблице для тестового товара'\n         7) Получение значения \"Stock\" в таблице для тестового товара'\n         8) Запрос к API WB, получение \"price\" и \"stock\"\n         9) Исходя из текущего \"price\" и \"stock\" выбор \"YML feed\" для изменения цен и остатков\n        10) Возврат на страницу кубиков\n        11) Открытие \"Feeds list\"\n        12) Выбор \"WB feed\"\n        13) Открытие списка \"File type\"\n        14) Выбор типа \"Yandex Feed\"\n        15) Заполнение поля \"Url\" для \"WB source\"\n        16) Нажатие кнопки \"Save\"\n        17) Ожидание когда пропадет элемент \"Feed config save\"\n        18) Выбор \"WB feed\"\n        19) Нажатие кнопки \"Load products\"\n        20) Ожидание когда пропадет эллемент \"Feed product import started\"\n        21) Переход на \"feed list\" нажатием кнопки \"<--\"\n        22) Ожидание статуса \"Success\" для добавленного фида\n        23) Закрытие \"Feed list\"\n        24) Открытие \"Feed Products\"\n        25) Проверка значения \"id\" в таблице для тестового товара\n        26) Получение значения \"Sale\" в таблице для тестового товара'\n        27) Получение значения \"Stock\" в таблице для тестового товара'\n        28) Сравнение измененных \"price\" и \"stock\", с значениями в таблице \"Feed products\"\n        29) Запрос к API WB, получение \"price\" и \"stock\", сравнение со значениями в таблице \"Feed products\"\n        \"\"\"\n    \n    \n        driver = get_driver\n        dict_init_data = get_init_data\n        dict_xpath_login = init_dict_xpath_login(dict_init_data)\n        dict_xpath_product_feed = init_dict_xpath_product_feed(dict_init_data)\n        dict_xpath_base = init_dict_xpath_base(dict_init_data)\n        feed_data = parsing_data_feed()\n    \n        id_prod = 100591961  # \"ID\" тестового товара\n        # Данные первого фида\n        feed_change_1 = [100000, 0, \"https://www.dropbox.com/s/pq7z3p963fn6na8/dop_feed_1_prod_stock_0.xml?dl=0\"]\n        # Данные второго фида\n        feed_change_2 = [222222, 2, \"https://www.dropbox.com/s/jpzcno80ui3ruyl/dop_feed_1_prod_stock_2.xml?dl=0\"]\n        # Ссылка для загрузки фида изменения цен и остатков\n        change_feed_url = ''\n    \n        # 1) Авторизация\n        login_T4(driver, dict_init_data, dict_xpath_login)\n    \n        # 2) Выбор пайплайна и МП\n        choice_pipeline_mp(driver, dict_xpath_base, dict_xpath_product_feed, get_init_data)\n    \n        # 3) общая страница -> Feed Products (клик)\n        product_feed = wait_of_element_located('выбор кубика \"Feed Products\"',\n                                               dict_xpath_product_feed['15'], driver)\n        product_feed.click()\n    \n        # 4) Feed products -> \"Search\"\n        search = wait_of_element_located('ввод \"ID\" продукта в поле \"Search by name or ID\"',\n                                         dict_xpath_product_feed['17'], driver)\n        search.send_keys(id_prod)\n        search.send_keys(u'\\ue007')\n    \n        # 5) Проверка значения \"id\" в таблице для тестового товара\n        xpath_id = \"//tbody[@class='ant-table-tbody']/tr[2]/td[2]\"\n        id_check = wait_of_element_located('ожидание эллемента \"id\" в таблице \"Feed products\" для тестового товара',\n                                           xpath_id, driver)\n        str_id_check = id_check.text[:id_check.text.find('\\n')]\n        assert str_id_check == str(id_prod), '\"id\" в таблице \"Feed products\" д.б. равен \"id\" для тестового товара'\n    \n        # 6) Получение значения \"Sale\" в таблице для тестового товара'\n        xpath_sale = \"//tbody[@class='ant-table-tbody']/tr[2]/td[4]\"\n        sale_check = wait_of_element_located(\n            'ожидание эллемента \"Sale\" в таблице \"Feed products\" для тестового товара',\n            xpath_sale, driver)\n        str_sale_table = sale_check.text[:sale_check.text.find(' ')]\n    \n        # 7) Получение значения \"Stock\" в таблице для тестового товара'\n        xpath_stock = \"//tbody[@class='ant-table-tbody']/tr[2]/td[5]\"\n        stock_check = wait_of_element_located(\n            'ожидание эллемента \"Stock\" в таблице \"Feed products\" для тестового товара',\n            xpath_stock, driver)\n        str_stock_table = stock_check.text\n    \n        print('=============================================')\n        print('Значения из листинга \"Product feed\" ДО загрузки фида:')\n        print('id - ' + str_id_check)\n        print('stock - ' + str_stock_table)\n        print('price - ' + str_sale_table)\n        print('текущее время - ' + datetime.now().strftime(\"%d.%m.%Y %H:%M\"))\n        print('=============================================')\n    \n        print('Ответ WB API ДО загрузки фида:')\n        # 8) Запрос к API WB, получение \"price\" и \"stock\", сравнение со значениями в таблице \"Feed products\"\n        api_wb = get_WB_stock_price_discount(id_prod)\n        # assert str(api_wb[0]) == str_sale_table, '\"price\" на МП WB д.б. равен \"Sale\" в таблице \"Feed products\"'\n        # assert str(api_wb[1]) == str_stock_table, '\"stock\" на МП WB д.б. равен \"stock\" в таблице \"Feed products\"'\n    \n        print('текущее время - ' + datetime.now().strftime(\"%d.%m.%Y %H:%M\"))\n        print('=============================================')\n    \n        # 9) Исходя из текущего \"price\" и \"stock\" выбор \"YML feed\" для изменения цен и остатков\n        if api_wb[0] == feed_change_1[0] and api_wb[1] == feed_change_1[1]:\n            change_feed_url = feed_change_2[2]\n            feed_price = feed_change_2[0]\n            feed_stock = feed_change_2[1]\n        elif api_wb[0] == feed_change_2[0] and api_wb[1] == feed_change_2[1]:\n            change_feed_url = feed_change_1[2]\n            feed_price = feed_change_1[0]\n            feed_stock = feed_change_1[1]\n        else:\n            change_feed_url = feed_change_1[2]\n            feed_price = feed_change_1[0]\n            feed_stock = feed_change_1[1]\n        change_feed_url = change_feed_url.replace(\".xml?dl=0\", \".xml?dl=1\")\n    \n        print('url загружаемого фида - ' + change_feed_url)\n        print('будущие значения stock - ' + str(feed_stock))\n        print('будущие значения price - ' + str(feed_price))\n        print('текущее время - ' + datetime.now().strftime(\"%d.%m.%Y %H:%M\"))\n        print('=============================================')\n    \n    \n        # 10) Feed Products -> общая страница (клик)\n        product_feed = wait_of_element_located('выход из \"Feed Products\" на общую страницу',\n                                               dict_xpath_base['3'], driver)\n        product_feed.click()\n    \n        # 11) общая страница -> Feeds list (клик)\n        prod_feed = wait_of_element_located('выбор страницы \"Feeds list\"', dict_xpath_product_feed['1'], driver)\n        prod_feed.click()\n    \n        # 12) Выбор \"WB feed\"\n        wb_feed = wait_of_element_located('выбор страницы \"WB feed\"', dict_xpath_product_feed['18'], driver)\n        wb_feed.click()\n    \n        # 13) Add feed config -> \"File type\" (клик)\n        type_file = wait_of_element_located('выбор списка \"File type\"', dict_xpath_product_feed['7.0'], driver)\n        type_file.click()\n    \n        # 14) Add feed config -> \"File type\" (Yandex Feed) (клик)\n        type_file_yml = wait_of_element_located('выбор из списка \"Yandex Feed\"', dict_xpath_product_feed['7.2'], driver)\n        type_file_yml.click()\n    \n        # 15) WB feed config -> \"Url\" (ввод)\n        url_input = wait_of_element_located('ввод в поле \"Url\" для \"Product source\"', dict_xpath_product_feed['4.1'], driver)\n        url_input.click()\n        url_input.send_keys(Keys.CONTROL, 'a')\n        url_input.send_keys(u'\\ue017')\n        url_input.send_keys(change_feed_url)\n    \n        # 16) WB feed config -> \"Save\" (клик)\n        button_save_feed = wait_of_element_located('нажатие кнопки \"Save\"', dict_xpath_product_feed['8'], driver)\n        button_save_feed.click()\n        time.sleep(2)\n    \n        # 17) ожидание когда пропадет эллемент \"Feed config save\"\n        wait_notice_save = wait_of_invisibility_of_element_located('ожидание \"Feed config save\"',\n                                                                   dict_xpath_product_feed['6'], driver)\n    \n        # 18) Выбор \"WB feed\"\n        wb_feed = wait_of_element_located('выбор страницы \"WB feed\"', dict_xpath_product_feed['18'], driver)\n        wb_feed.click()\n    \n        # 19) WB feed config -> \"Load products\"\n        button_load = wait_of_element_located('нажатие кнопки \"Load products\"', dict_xpath_product_feed['5'], driver)\n        button_load.click()\n        time.sleep(2)\n    \n        # 20) ожидание когда пропадет эллемент \"Feed product import started\"\n        wait_import_started = wait_of_invisibility_of_element_located('ожидание \"Feed product import started\"',\n                                                                      dict_xpath_product_feed['16'], driver)\n    \n        # 21) feed config -> feed list\n        back_feed_list = wait_of_element_located('нажатие кнопки \"<--\"', dict_xpath_product_feed['10'], driver)\n        back_feed_list.click()\n    \n        # 22) Ожидание статуса \"Success\" для добавленного фида\n        wait_success_feed = find_text_in_element('ожидание \"Success\" для фида',\n                                                 dict_xpath_product_feed[\n                                                     '19'] + \"/a[text()='\" + \"WildBerries\" + \"']\" + \"/parent::div/div\",\n                                                 driver, \"Success\")\n    \n        # 23) Закрытие \"Feed list\"\n        close_feed_list = wait_of_element_located('закрытие \"Feed list\"', dict_xpath_product_feed['14'], driver)\n        close_feed_list.click()\n    \n        # 24) общая страница -> Feed Products (клик)\n        product_feed = wait_of_element_located('выбор кубика \"Feed Products\"',\n                                               dict_xpath_product_feed['15'], driver)\n        product_feed.click()\n    \n        # 25) Проверка значения \"id\" в таблице для тестового товара\n        xpath_id = \"//tbody[@class='ant-table-tbody']/tr[2]/td[2]\"\n        id_check = wait_of_element_located('ожидание эллемента \"id\" в таблице \"Feed products\" для тестового товара',\n                                           xpath_id, driver)\n        str_id_check = id_check.text[:id_check.text.find('\\n')]\n        assert str_id_check == str(id_prod), '\"id\" в таблице \"Feed products\" д.б. равен \"id\" для тестового товара'\n    \n        # 26) Получение значения \"Sale\" в таблице для тестового товара'\n        xpath_sale = \"//tbody[@class='ant-table-tbody']/tr[2]/td[4]\"\n        sale_check = wait_of_element_located(\n            'ожидание эллемента \"Sale\" в таблице \"Feed products\" для тестового товара',\n            xpath_sale, driver)\n        str_sale_table = sale_check.text[:sale_check.text.find(' ')]\n    \n        # 27) Получение значения \"Stock\" в таблице для тестового товара'\n        xpath_stock = \"//tbody[@class='ant-table-tbody']/tr[2]/td[5]\"\n        stock_check = wait_of_element_located(\n            'ожидание эллемента \"Stock\" в таблице \"Feed products\" для тестового товара',\n            xpath_stock, driver)\n        str_stock_table = stock_check.text\n    \n        print('Значения из листинга \"Product feed\" ПОСЛЕ загрузки фида:')\n        print('id - ' + str_id_check)\n        print('stock - ' + str_stock_table)\n        print('price - ' + str_sale_table)\n        print('текущее время - ' + datetime.now().strftime(\"%d.%m.%Y %H:%M\"))\n        print('=============================================')\n    \n        # 28) Сравнение измененных \"price\" и \"stock\", с значениями в таблице \"Feed products\"\n        assert str(feed_price) == str_sale_table, 'измененный \"price\" д.б. равен \"Sale\" в таблице \"Feed products\"'\n        assert str(feed_stock) == str_stock_table, 'измененный \"stock\" д.б. равен \"stock\" в таблице \"Feed products\"'\n    \n        # задержка на случай если импорт прошел быстро и в WB не успели обновиться цены\n        time.sleep(120)\n    \n        print('Ответ WB API ПОСЛЕ загрузки фида:')\n        # 29) Запрос к API WB, получение \"price\" и \"stock\", сравнение со значениями в таблице \"Feed products\"\n        api_wb = get_WB_stock_price_discount(id_prod)\n>       assert str(api_wb[0]) == str_sale_table, '\"price\" на МП WB д.б. равен \"Sale\" в таблице \"Feed products\"'\nE       AssertionError: \"price\" на МП WB д.б. равен \"Sale\" в таблице \"Feed products\"\nE       assert '100000' == '222222'\nE         - 222222\nE         + 100000\n\ntest_t4/test_functional/test_8_change_feed_wb_price_stock.py:248: AssertionError","steps":[{"name":"Действие: 'ввод в поле \"Email\"'","time":{"start":1659163077525,"stop":1659163077550,"duration":25},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"description","value":"'ввод в поле \"Email\"'"},{"name":"xpath","value":"'//input[@id='email']'"},{"name":"driver_init","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"0eb6df6fdae75e67ed4d9f5c7c6ced1c\")>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Действие: 'ввод в поле \"Password\"'","time":{"start":1659163077696,"stop":1659163077707,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"description","value":"'ввод в поле \"Password\"'"},{"name":"xpath","value":"'//input[@id='password']'"},{"name":"driver_init","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"0eb6df6fdae75e67ed4d9f5c7c6ced1c\")>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Действие: 'нажатие кнопки \"Sing in\"'","time":{"start":1659163077810,"stop":1659163077821,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"description","value":"'нажатие кнопки \"Sing in\"'"},{"name":"xpath","value":"'//button[@data-test-id='login']'"},{"name":"driver_init","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"0eb6df6fdae75e67ed4d9f5c7c6ced1c\")>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Действие: 'ввод название пайцплайна в поле \"Search by name or ID\"'","time":{"start":1659163077875,"stop":1659163078393,"duration":518},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"description","value":"'ввод название пайцплайна в поле \"Search by name or ID\"'"},{"name":"xpath","value":"'//input[@id='searchInDropdown']'"},{"name":"driver_init","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"0eb6df6fdae75e67ed4d9f5c7c6ced1c\")>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Действие: 'выбор указанного пайплайна'","time":{"start":1659163078602,"stop":1659163078613,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"description","value":"'выбор указанного пайплайна'"},{"name":"xpath","value":"'//tbody[@class='ant-table-tbody']'"},{"name":"driver_init","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"0eb6df6fdae75e67ed4d9f5c7c6ced1c\")>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Действие: 'выбор МП \"Wildberries\"'","time":{"start":1659163078850,"stop":1659163079368,"duration":518},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"description","value":"'выбор МП \"Wildberries\"'"},{"name":"xpath","value":"'//div[text()='Wildberries']'"},{"name":"driver_init","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"0eb6df6fdae75e67ed4d9f5c7c6ced1c\")>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Действие: 'выбор кубика \"Feed Products\"'","time":{"start":1659163079395,"stop":1659163079404,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"description","value":"'выбор кубика \"Feed Products\"'"},{"name":"xpath","value":"'//span[@aria-label='file-add']'"},{"name":"driver_init","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"0eb6df6fdae75e67ed4d9f5c7c6ced1c\")>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Действие: 'ввод \"ID\" продукта в поле \"Search by name or ID\"'","time":{"start":1659163079443,"stop":1659163079977,"duration":534},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"description","value":"'ввод \"ID\" продукта в поле \"Search by name or ID\"'"},{"name":"xpath","value":"'//input[@placeholder='Search by name or ID']'"},{"name":"driver_init","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"0eb6df6fdae75e67ed4d9f5c7c6ced1c\")>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Действие: 'ожидание эллемента \"id\" в таблице \"Feed products\" для тестового товара'","time":{"start":1659163081120,"stop":1659163081641,"duration":521},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"description","value":"'ожидание эллемента \"id\" в таблице \"Feed products\" для тестового товара'"},{"name":"xpath","value":"'//tbody[@class='ant-table-tbody']/tr[2]/td[2]'"},{"name":"driver_init","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"0eb6df6fdae75e67ed4d9f5c7c6ced1c\")>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Действие: 'ожидание эллемента \"Sale\" в таблице \"Feed products\" для тестового товара'","time":{"start":1659163081667,"stop":1659163081678,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"description","value":"'ожидание эллемента \"Sale\" в таблице \"Feed products\" для тестового товара'"},{"name":"xpath","value":"'//tbody[@class='ant-table-tbody']/tr[2]/td[4]'"},{"name":"driver_init","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"0eb6df6fdae75e67ed4d9f5c7c6ced1c\")>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Действие: 'ожидание эллемента \"Stock\" в таблице \"Feed products\" для тестового товара'","time":{"start":1659163081696,"stop":1659163081705,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"description","value":"'ожидание эллемента \"Stock\" в таблице \"Feed products\" для тестового товара'"},{"name":"xpath","value":"'//tbody[@class='ant-table-tbody']/tr[2]/td[5]'"},{"name":"driver_init","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"0eb6df6fdae75e67ed4d9f5c7c6ced1c\")>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Действие: 'выход из \"Feed Products\" на общую страницу'","time":{"start":1659163088226,"stop":1659163088236,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"description","value":"'выход из \"Feed Products\" на общую страницу'"},{"name":"xpath","value":"'//span[@aria-label='arrow-left']'"},{"name":"driver_init","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"0eb6df6fdae75e67ed4d9f5c7c6ced1c\")>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Действие: 'выбор страницы \"Feeds list\"'","time":{"start":1659163088286,"stop":1659163088812,"duration":526},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"description","value":"'выбор страницы \"Feeds list\"'"},{"name":"xpath","value":"'//span[@aria-label='setting']'"},{"name":"driver_init","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"0eb6df6fdae75e67ed4d9f5c7c6ced1c\")>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Действие: 'выбор страницы \"WB feed\"'","time":{"start":1659163088921,"stop":1659163089440,"duration":519},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"description","value":"'выбор страницы \"WB feed\"'"},{"name":"xpath","value":"'//tr[@class='ant-table-row ant-table-row-level-0']/td/div/div/div/div/div/a'"},{"name":"driver_init","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"0eb6df6fdae75e67ed4d9f5c7c6ced1c\")>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Действие: 'выбор списка \"File type\"'","time":{"start":1659163089527,"stop":1659163090046,"duration":519},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"description","value":"'выбор списка \"File type\"'"},{"name":"xpath","value":"'//div[@class='ant-select-selector']'"},{"name":"driver_init","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"0eb6df6fdae75e67ed4d9f5c7c6ced1c\")>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Действие: 'выбор из списка \"Yandex Feed\"'","time":{"start":1659163090089,"stop":1659163090115,"duration":26},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"description","value":"'выбор из списка \"Yandex Feed\"'"},{"name":"xpath","value":"'//div[@title='Yandex Feed']'"},{"name":"driver_init","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"0eb6df6fdae75e67ed4d9f5c7c6ced1c\")>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Действие: 'ввод в поле \"Url\" для \"Product source\"'","time":{"start":1659163090150,"stop":1659163090161,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"description","value":"'ввод в поле \"Url\" для \"Product source\"'"},{"name":"xpath","value":"'//input[@id='_url']'"},{"name":"driver_init","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"0eb6df6fdae75e67ed4d9f5c7c6ced1c\")>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Действие: 'нажатие кнопки \"Save\"'","time":{"start":1659163092314,"stop":1659163092342,"duration":28},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"description","value":"'нажатие кнопки \"Save\"'"},{"name":"xpath","value":"'//button[@data-test-id='save-feed']'"},{"name":"driver_init","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"0eb6df6fdae75e67ed4d9f5c7c6ced1c\")>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Действие: 'ожидание \"Feed config save\"'","time":{"start":1659163094444,"stop":1659163096005,"duration":1561},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"description","value":"'ожидание \"Feed config save\"'"},{"name":"xpath","value":"'//div[@class='ant-message-notice-content']'"},{"name":"driver_init","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"0eb6df6fdae75e67ed4d9f5c7c6ced1c\")>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Действие: 'выбор страницы \"WB feed\"'","time":{"start":1659163096005,"stop":1659163096010,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"description","value":"'выбор страницы \"WB feed\"'"},{"name":"xpath","value":"'//tr[@class='ant-table-row ant-table-row-level-0']/td/div/div/div/div/div/a'"},{"name":"driver_init","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"0eb6df6fdae75e67ed4d9f5c7c6ced1c\")>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Действие: 'нажатие кнопки \"Load products\"'","time":{"start":1659163096067,"stop":1659163096586,"duration":519},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"description","value":"'нажатие кнопки \"Load products\"'"},{"name":"xpath","value":"'//button[@data-test-id='load-products']'"},{"name":"driver_init","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"0eb6df6fdae75e67ed4d9f5c7c6ced1c\")>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Действие: 'ожидание \"Feed product import started\"'","time":{"start":1659163098639,"stop":1659163102255,"duration":3616},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"description","value":"'ожидание \"Feed product import started\"'"},{"name":"xpath","value":"'//div[@class='t4mp-toast-content']'"},{"name":"driver_init","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"0eb6df6fdae75e67ed4d9f5c7c6ced1c\")>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Действие: 'нажатие кнопки \"<--\"'","time":{"start":1659163102255,"stop":1659163102260,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"description","value":"'нажатие кнопки \"<--\"'"},{"name":"xpath","value":"'//span[@aria-label='arrow-left']'"},{"name":"driver_init","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"0eb6df6fdae75e67ed4d9f5c7c6ced1c\")>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Действие: 'ожидание \"Success\" для фида'","time":{"start":1659163102318,"stop":1659163196755,"duration":94437},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"description","value":"'ожидание \"Success\" для фида'"},{"name":"xpath","value":"'//tbody[@class='ant-table-tbody']/tr[contains(@class, 'ant-table-row')]/td/div/div/div/div[1]/div/a[text()='WildBerries']/parent::div/div'"},{"name":"driver_init","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"0eb6df6fdae75e67ed4d9f5c7c6ced1c\")>"},{"name":"text","value":"'Success'"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Действие: 'закрытие \"Feed list\"'","time":{"start":1659163196755,"stop":1659163196764,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"description","value":"'закрытие \"Feed list\"'"},{"name":"xpath","value":"'//span[@aria-label='close']'"},{"name":"driver_init","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"0eb6df6fdae75e67ed4d9f5c7c6ced1c\")>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Действие: 'выбор кубика \"Feed Products\"'","time":{"start":1659163196808,"stop":1659163196821,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"description","value":"'выбор кубика \"Feed Products\"'"},{"name":"xpath","value":"'//span[@aria-label='file-add']'"},{"name":"driver_init","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"0eb6df6fdae75e67ed4d9f5c7c6ced1c\")>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Действие: 'ожидание эллемента \"id\" в таблице \"Feed products\" для тестового товара'","time":{"start":1659163196863,"stop":1659163197391,"duration":528},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"description","value":"'ожидание эллемента \"id\" в таблице \"Feed products\" для тестового товара'"},{"name":"xpath","value":"'//tbody[@class='ant-table-tbody']/tr[2]/td[2]'"},{"name":"driver_init","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"0eb6df6fdae75e67ed4d9f5c7c6ced1c\")>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Действие: 'ожидание эллемента \"Sale\" в таблице \"Feed products\" для тестового товара'","time":{"start":1659163197449,"stop":1659163197459,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"description","value":"'ожидание эллемента \"Sale\" в таблице \"Feed products\" для тестового товара'"},{"name":"xpath","value":"'//tbody[@class='ant-table-tbody']/tr[2]/td[4]'"},{"name":"driver_init","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"0eb6df6fdae75e67ed4d9f5c7c6ced1c\")>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Действие: 'ожидание эллемента \"Stock\" в таблице \"Feed products\" для тестового товара'","time":{"start":1659163197478,"stop":1659163197491,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"description","value":"'ожидание эллемента \"Stock\" в таблице \"Feed products\" для тестового товара'"},{"name":"xpath","value":"'//tbody[@class='ant-table-tbody']/tr[2]/td[5]'"},{"name":"driver_init","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"0eb6df6fdae75e67ed4d9f5c7c6ced1c\")>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"bd46f40514a59723","name":"stdout","source":"bd46f40514a59723.txt","type":"text/plain","size":1526}],"parameters":[],"stepsCount":29,"attachmentsCount":1,"shouldDisplayMessage":true,"hasContent":true},"afterStages":[{"name":"get_driver::0","time":{"start":1659163323668,"stop":1659163323778,"duration":110},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"labels":[{"name":"severity","value":"critical"},{"name":"story","value":"Функциональное тестирование"},{"name":"feature","value":"Тест стенд v.0.9.10"},{"name":"parentSuite","value":"test_t4.test_functional"},{"name":"suite","value":"test_8_change_feed_wb_price_stock"},{"name":"host","value":"fv-az128-702"},{"name":"thread","value":"2787-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test_t4.test_functional.test_8_change_feed_wb_price_stock"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"critical","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":3,"broken":4,"skipped":0,"passed":10,"unknown":0,"total":17},"items":[{"uid":"b06e8c67915e9bf0","reportUrl":"https://golosin.github.io/python_test/245//#testresult/b06e8c67915e9bf0","status":"passed","time":{"start":1659076958026,"stop":1659077217940,"duration":259914}},{"uid":"d3607eb9c3af84dc","reportUrl":"https://golosin.github.io/python_test/244//#testresult/d3607eb9c3af84dc","status":"passed","time":{"start":1658990499277,"stop":1658990794683,"duration":295406}},{"uid":"4ecc29e418d5c7c8","reportUrl":"https://golosin.github.io/python_test/243//#testresult/4ecc29e418d5c7c8","status":"passed","time":{"start":1658904120363,"stop":1658904414472,"duration":294109}},{"uid":"8a773a9f49db1b40","reportUrl":"https://golosin.github.io/python_test/242//#testresult/8a773a9f49db1b40","status":"passed","time":{"start":1658817795178,"stop":1658818091999,"duration":296821}},{"uid":"8880c1739fba2d12","reportUrl":"https://golosin.github.io/python_test/241//#testresult/8880c1739fba2d12","status":"passed","time":{"start":1658731413963,"stop":1658731706857,"duration":292894}},{"uid":"2a78224fc108b39b","reportUrl":"https://golosin.github.io/python_test/240//#testresult/2a78224fc108b39b","status":"passed","time":{"start":1658644809168,"stop":1658645094228,"duration":285060}},{"uid":"d2ac3a036b5f74ba","reportUrl":"https://golosin.github.io/python_test/239//#testresult/d2ac3a036b5f74ba","status":"passed","time":{"start":1658558381973,"stop":1658558678299,"duration":296326}},{"uid":"bc521aae461dbf39","reportUrl":"https://golosin.github.io/python_test/238//#testresult/bc521aae461dbf39","status":"passed","time":{"start":1658509174374,"stop":1658509466638,"duration":292264}},{"uid":"dafdd09379c2d703","reportUrl":"https://golosin.github.io/python_test/237//#testresult/dafdd09379c2d703","status":"passed","time":{"start":1658507576157,"stop":1658507868085,"duration":291928}},{"uid":"94dceb1ceaeb473f","reportUrl":"https://golosin.github.io/python_test/236//#testresult/94dceb1ceaeb473f","status":"broken","statusDetails":"selenium.common.exceptions.TimeoutException: Message: \nStacktrace:\n#0 0x559280871cd3 <unknown>\n#1 0x559280679968 <unknown>\n#2 0x5592806b0fd7 <unknown>\n#3 0x5592806b11a1 <unknown>\n#4 0x5592806e4154 <unknown>\n#5 0x5592806cebdd <unknown>\n#6 0x5592806e1ea8 <unknown>\n#7 0x5592806ceaa3 <unknown>\n#8 0x5592806a43fa <unknown>\n#9 0x5592806a5555 <unknown>\n#10 0x5592808b92bd <unknown>\n#11 0x5592808bd418 <unknown>\n#12 0x5592808a336e <unknown>\n#13 0x5592808be078 <unknown>\n#14 0x559280897bb0 <unknown>\n#15 0x5592808dad58 <unknown>\n#16 0x5592808daed8 <unknown>\n#17 0x5592808f4cfd <unknown>\n#18 0x7efe64874609 <unknown>","time":{"start":1658481899437,"stop":1658481915091,"duration":15654}},{"uid":"4637ce74c499ecbc","reportUrl":"https://golosin.github.io/python_test/235//#testresult/4637ce74c499ecbc","status":"broken","statusDetails":"selenium.common.exceptions.TimeoutException: Message: \nStacktrace:\n#0 0x5653c50efcd3 <unknown>\n#1 0x5653c4ef7968 <unknown>\n#2 0x5653c4f2efd7 <unknown>\n#3 0x5653c4f2f1a1 <unknown>\n#4 0x5653c4f62154 <unknown>\n#5 0x5653c4f4cbdd <unknown>\n#6 0x5653c4f5fea8 <unknown>\n#7 0x5653c4f4caa3 <unknown>\n#8 0x5653c4f223fa <unknown>\n#9 0x5653c4f23555 <unknown>\n#10 0x5653c51372bd <unknown>\n#11 0x5653c513b418 <unknown>\n#12 0x5653c512136e <unknown>\n#13 0x5653c513c078 <unknown>\n#14 0x5653c5115bb0 <unknown>\n#15 0x5653c5158d58 <unknown>\n#16 0x5653c5158ed8 <unknown>\n#17 0x5653c5172cfd <unknown>\n#18 0x7fe01cfc1609 <unknown>","time":{"start":1658472373378,"stop":1658472389122,"duration":15744}},{"uid":"248a8635f80eaeb2","reportUrl":"https://golosin.github.io/python_test/234//#testresult/248a8635f80eaeb2","status":"broken","statusDetails":"selenium.common.exceptions.TimeoutException: Message: \nStacktrace:\n#0 0x55f14664fcd3 <unknown>\n#1 0x55f146457968 <unknown>\n#2 0x55f14648efd7 <unknown>\n#3 0x55f14648f1a1 <unknown>\n#4 0x55f1464c2154 <unknown>\n#5 0x55f1464acbdd <unknown>\n#6 0x55f1464bfea8 <unknown>\n#7 0x55f1464acaa3 <unknown>\n#8 0x55f1464823fa <unknown>\n#9 0x55f146483555 <unknown>\n#10 0x55f1466972bd <unknown>\n#11 0x55f14669b418 <unknown>\n#12 0x55f14668136e <unknown>\n#13 0x55f14669c078 <unknown>\n#14 0x55f146675bb0 <unknown>\n#15 0x55f1466b8d58 <unknown>\n#16 0x55f1466b8ed8 <unknown>\n#17 0x55f1466d2cfd <unknown>\n#18 0x7f937d213609 <unknown>","time":{"start":1658385869381,"stop":1658386193906,"duration":324525}},{"uid":"c8d84ee7f7b40576","reportUrl":"https://golosin.github.io/python_test/233//#testresult/c8d84ee7f7b40576","status":"failed","statusDetails":"AssertionError: \"price\" на МП WB д.б. равен \"Sale\" в таблице \"Feed products\"\nassert '100111' == '100000'\n  - 100000\n  + 100111","time":{"start":1658385398634,"stop":1658385794413,"duration":395779}},{"uid":"e47de23f138c6f4b","reportUrl":"https://golosin.github.io/python_test/232//#testresult/e47de23f138c6f4b","status":"failed","statusDetails":"AssertionError: \"price\" на МП WB д.б. равен \"Sale\" в таблице \"Feed products\"\nassert '100000' == '222222'\n  - 222222\n  + 100000","time":{"start":1658304782023,"stop":1658305068722,"duration":286699}},{"uid":"80fa1ac87f30ef87","reportUrl":"https://golosin.github.io/python_test/231//#testresult/80fa1ac87f30ef87","status":"passed","time":{"start":1658302326622,"stop":1658302630753,"duration":304131}},{"uid":"41a4903c78be181a","reportUrl":"https://golosin.github.io/python_test/230//#testresult/41a4903c78be181a","status":"broken","statusDetails":"selenium.common.exceptions.TimeoutException: Message: \nStacktrace:\n#0 0x55a02dc17b13 <unknown>\n#1 0x55a02da1e688 <unknown>\n#2 0x55a02da55cc7 <unknown>\n#3 0x55a02da55e91 <unknown>\n#4 0x55a02da88e34 <unknown>\n#5 0x55a02da738dd <unknown>\n#6 0x55a02da86b94 <unknown>\n#7 0x55a02da737a3 <unknown>\n#8 0x55a02da490ea <unknown>\n#9 0x55a02da4a225 <unknown>\n#10 0x55a02dc5f2dd <unknown>\n#11 0x55a02dc632c7 <unknown>\n#12 0x55a02dc4922e <unknown>\n#13 0x55a02dc640a8 <unknown>\n#14 0x55a02dc3dbc0 <unknown>\n#15 0x55a02dc806c8 <unknown>\n#16 0x55a02dc80848 <unknown>\n#17 0x55a02dc9ac0d <unknown>\n#18 0x7fd54cc8f609 <unknown>","time":{"start":1658301382037,"stop":1658301400531,"duration":18494}}]},"tags":[]},"source":"bc4a771ed0021f0f.json","parameterValues":[]}